-- ���� ���̺� ���� (���� ���)
DROP TABLE USERS CASCADE CONSTRAINTS;
DROP TABLE COMPANY CASCADE CONSTRAINTS;
DROP TABLE POST CASCADE CONSTRAINTS;
DROP TABLE POST_COMMENT CASCADE CONSTRAINTS;
DROP TABLE POST_SAVE CASCADE CONSTRAINTS;
DROP TABLE FOLLOWS CASCADE CONSTRAINTS;
DROP TABLE DIRECT_CHAT_ROOMS CASCADE CONSTRAINTS;
DROP TABLE CHAT_MESSAGES CASCADE CONSTRAINTS;
DROP TABLE CHAT_MESSAGE_FILES CASCADE CONSTRAINTS;
DROP TABLE CART CASCADE CONSTRAINTS;
DROP TABLE PAY CASCADE CONSTRAINTS;
DROP TABLE POST_LIKE CASCADE CONSTRAINTS;
DROP TABLE COMMENT_LIKE CASCADE CONSTRAINTS;


------------------------------------------------------------
-- 1) USERS
------------------------------------------------------------
CREATE TABLE USERS (
    user_num NUMBER(20) GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    user_id VARCHAR2(50) NOT NULL UNIQUE,
    user_password VARCHAR2(100) NOT NULL,
    user_name VARCHAR2(100) NOT NULL,
    user_phone VARCHAR2(20),
    user_email VARCHAR2(255) NOT NULL UNIQUE,
    user_nickname VARCHAR2(100) NOT NULL UNIQUE,
    drawn_user CHAR(1) DEFAULT 'N',
    user_create_at DATE DEFAULT SYSDATE NOT NULL,
    user_level NUMBER(2),
    user_image BLOB,
    user_banner BLOB
);

------------------------------------------------------------
-- 2) COMPANY
------------------------------------------------------------
CREATE TABLE COMPANY (
    company_num NUMBER(20) GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    company_id VARCHAR2(50) NOT NULL UNIQUE,
    company_password VARCHAR2(100) NOT NULL,
    company_name VARCHAR2(100) NOT NULL,
    company_phone VARCHAR2(20) NOT NULL,
    company_email VARCHAR2(255) NOT NULL UNIQUE,
    drawn_company CHAR(1) DEFAULT 'N',
    company_create_at DATE DEFAULT SYSDATE,
    company_image BLOB,
    company_banner BLOB,
    business_number VARCHAR2(20) NOT NULL UNIQUE
);

------------------------------------------------------------
-- 3) POST
------------------------------------------------------------
CREATE TABLE POST (
    post_id NUMBER(20) GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,

    board_type VARCHAR2(10) NOT NULL,
    CONSTRAINT ck_post_board_type CHECK (board_type IN ('lookup', 'job', 'free')),

    -- �ۼ� ��ü
    user_num NUMBER(20),
    company_num NUMBER(20),

    -- ���� �ʵ�
    title VARCHAR2(255) NOT NULL,
    content VARCHAR2(4000) NOT NULL,
    created_at DATE DEFAULT SYSDATE NOT NULL,
    updated_at DATE DEFAULT SYSDATE NOT NULL,
    view_cnt NUMBER DEFAULT 0,

    -- lookup ����
    price NUMBER(10),
    ai_summary VARCHAR2(500),
    download_cnt NUMBER DEFAULT 0,
    post_file VARCHAR2(255),

    -- CHECK ����
    CONSTRAINT ck_lookup_user CHECK (
        (board_type = 'lookup' AND price IS NOT NULL AND ai_summary IS NOT NULL AND download_cnt IS NOT NULL AND post_file IS NOT NULL)
        OR board_type IN ('job', 'free')
    ),

    CONSTRAINT ck_job_company CHECK (
        (board_type = 'job' AND company_num IS NOT NULL)
        OR board_type IN ('lookup', 'free')
    ),

    CONSTRAINT ck_free_user CHECK (
        ((board_type = 'free' OR board_type = 'lookup') AND user_num IS NOT NULL)
        OR board_type = 'job'
    )
);

------------------------------------------------------------
-- POST updated_at �ڵ� ������Ʈ Ʈ����
------------------------------------------------------------
CREATE OR REPLACE TRIGGER trg_post_update
BEFORE UPDATE ON POST
FOR EACH ROW
BEGIN
    :NEW.updated_at := SYSDATE;
END;
/

------------------------------------------------------------
-- POST �ܷ�Ű
------------------------------------------------------------
ALTER TABLE POST ADD CONSTRAINT fk_post_user
    FOREIGN KEY (user_num) REFERENCES USERS(user_num);

ALTER TABLE POST ADD CONSTRAINT fk_post_company
    FOREIGN KEY (company_num) REFERENCES COMPANY(company_num);

------------------------------------------------------------
-- 4) POST_COMMENT
------------------------------------------------------------
CREATE TABLE POST_COMMENT (
    comment_id NUMBER(20) GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    user_num NUMBER(20) NOT NULL,
    post_id NUMBER(20) NOT NULL,
    comment_content VARCHAR2(1000),
    comment_created_at DATE DEFAULT SYSDATE,
    comment_modify_at DATE
);

ALTER TABLE POST_COMMENT ADD CONSTRAINT fk_comment_user
    FOREIGN KEY (user_num) REFERENCES USERS(user_num);

ALTER TABLE POST_COMMENT ADD CONSTRAINT fk_comment_post
    FOREIGN KEY (post_id) REFERENCES POST(post_id);

------------------------------------------------------------
-- 5) POST_SAVE
------------------------------------------------------------
CREATE TABLE POST_SAVE (
    board_save_id NUMBER(20) GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    board_save_time DATE DEFAULT SYSDATE NOT NULL,
    user_num NUMBER(20) NOT NULL,
    post_id NUMBER(20) NOT NULL
);

ALTER TABLE POST_SAVE ADD CONSTRAINT fk_save_user
    FOREIGN KEY (user_num) REFERENCES USERS(user_num);

ALTER TABLE POST_SAVE ADD CONSTRAINT fk_save_post
    FOREIGN KEY (post_id) REFERENCES POST(post_id);

------------------------------------------------------------
-- 6) FOLLOWS
------------------------------------------------------------
CREATE TABLE FOLLOWS (
    follow_id NUMBER(20) GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    follower_id NUMBER(20) NOT NULL,
    following_id NUMBER(20) NOT NULL,
    created_at DATE DEFAULT SYSDATE NOT NULL
);

ALTER TABLE FOLLOWS ADD CONSTRAINT fk_follows_follower
    FOREIGN KEY (follower_id) REFERENCES USERS(user_num);

ALTER TABLE FOLLOWS ADD CONSTRAINT fk_follows_following
    FOREIGN KEY (following_id) REFERENCES USERS(user_num);

------------------------------------------------------------
-- 7) DIRECT_CHAT_ROOMS
------------------------------------------------------------
CREATE TABLE DIRECT_CHAT_ROOMS (
    room_id NUMBER(20) GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    user1_num NUMBER(20) NOT NULL,
    user2_num NUMBER(20) NOT NULL,
    created_at DATE DEFAULT SYSDATE NOT NULL,
    last_message_at DATE,
    status VARCHAR2(20) DEFAULT 'ACTIVE' NOT NULL
);

ALTER TABLE DIRECT_CHAT_ROOMS ADD CONSTRAINT fk_chatroom_user1
    FOREIGN KEY (user1_num) REFERENCES USERS(user_num);

ALTER TABLE DIRECT_CHAT_ROOMS ADD CONSTRAINT fk_chatroom_user2
    FOREIGN KEY (user2_num) REFERENCES USERS(user_num);

------------------------------------------------------------
-- 8) CHAT_MESSAGES
------------------------------------------------------------
CREATE TABLE CHAT_MESSAGES (
    message_id NUMBER(20) GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    room_id NUMBER(20) NOT NULL,
    user_num NUMBER(20) NOT NULL,
    sender_num NUMBER(20) NOT NULL,
    content VARCHAR2(2000),
    has_file CHAR(1) DEFAULT 'N' NOT NULL,
    sent_at DATE DEFAULT SYSDATE NOT NULL,
    read_yn CHAR(1) DEFAULT 'N' NOT NULL,
    deleted_yn CHAR(1) DEFAULT 'N' NOT NULL
);

ALTER TABLE CHAT_MESSAGES ADD CONSTRAINT fk_message_room
    FOREIGN KEY (room_id) REFERENCES DIRECT_CHAT_ROOMS(room_id);

ALTER TABLE CHAT_MESSAGES ADD CONSTRAINT fk_message_user
    FOREIGN KEY (user_num) REFERENCES USERS(user_num);

ALTER TABLE CHAT_MESSAGES ADD CONSTRAINT fk_message_sender
    FOREIGN KEY (sender_num) REFERENCES USERS(user_num);

------------------------------------------------------------
-- 9) CHAT_MESSAGE_FILES
------------------------------------------------------------
CREATE TABLE CHAT_MESSAGE_FILES (
    file_id NUMBER(20) GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    message_id NUMBER(20) NOT NULL,
    file_name VARCHAR2(255) NOT NULL,
    mime_type VARCHAR2(100),
    file_size NUMBER(20),
    file_path VARCHAR2(1000),
    file_data BLOB,
    uploaded_at DATE DEFAULT SYSDATE NOT NULL
);

ALTER TABLE CHAT_MESSAGE_FILES ADD CONSTRAINT fk_file_message
    FOREIGN KEY (message_id) REFERENCES CHAT_MESSAGES(message_id);

------------------------------------------------------------
-- 10) CART
------------------------------------------------------------
CREATE TABLE CART (
    cart_id NUMBER(20) GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    user_num NUMBER(20) NOT NULL,
    post_id NUMBER(20) NOT NULL,
    created_at DATE DEFAULT SYSDATE NOT NULL
);

ALTER TABLE CART ADD CONSTRAINT fk_cart_user
    FOREIGN KEY (user_num) REFERENCES USERS(user_num);

ALTER TABLE CART ADD CONSTRAINT fk_cart_post
    FOREIGN KEY (post_id) REFERENCES POST(post_id);

------------------------------------------------------------
-- 11) PAY
------------------------------------------------------------
CREATE TABLE PAY (
    order_id NUMBER(20) GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    user_num NUMBER(20) NOT NULL,
    pay_date DATE DEFAULT SYSDATE,
    pay_price NUMBER(20) NOT NULL,
    setle_sttus NUMBER(1) NOT NULL,
    order_name VARCHAR2(200) NOT NULL,
    cart_id NUMBER(20) NOT NULL
);

ALTER TABLE PAY ADD CONSTRAINT fk_pay_user
    FOREIGN KEY (user_num) REFERENCES USERS(user_num);

ALTER TABLE PAY ADD CONSTRAINT fk_pay_cart
    FOREIGN KEY (cart_id) REFERENCES CART(cart_id);

------------------------------------------------------------
-- 12) POST_LIKE (�Խñ� ���ƿ�)
------------------------------------------------------------
CREATE TABLE POST_LIKE (
    like_id NUMBER GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    user_num NUMBER(20) NOT NULL,
    post_id NUMBER(20) NOT NULL,
    liked_at DATE DEFAULT SYSDATE NOT NULL,
    CONSTRAINT uq_post_like UNIQUE (user_num, post_id)
);

-- �ܷ�Ű
ALTER TABLE POST_LIKE ADD CONSTRAINT fk_postlike_user
    FOREIGN KEY (user_num) REFERENCES USERS(user_num);

ALTER TABLE POST_LIKE ADD CONSTRAINT fk_postlike_post
    FOREIGN KEY (post_id) REFERENCES POST(post_id);

------------------------------------------------------------
-- 13) COMMENT_LIKE (��� ���ƿ�)
------------------------------------------------------------
CREATE TABLE COMMENT_LIKE (
    like_id NUMBER GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    user_num NUMBER(20) NOT NULL,
    comment_id NUMBER(20) NOT NULL,
    liked_at DATE DEFAULT SYSDATE NOT NULL,
    CONSTRAINT uq_comment_like UNIQUE (user_num, comment_id)
);

-- �ܷ�Ű
ALTER TABLE COMMENT_LIKE ADD CONSTRAINT fk_commentlike_user
    FOREIGN KEY (user_num) REFERENCES USERS(user_num);

ALTER TABLE COMMENT_LIKE ADD CONSTRAINT fk_commentlike_comment
    FOREIGN KEY (comment_id) REFERENCES POST_COMMENT(comment_id);


-- ============================================================
-- ���� ������ INSERT ��ũ��Ʈ
-- ============================================================

------------------------------------------------------------
-- 1) USERS (2��)
------------------------------------------------------------
INSERT INTO USERS (user_id, user_password, user_name, user_phone, user_email, user_nickname, user_level)
VALUES ('user001', 'password123!', '��ö��', '010-1234-5678', 'kimcs@email.com', 'ö��¯', 1);

INSERT INTO USERS (user_id, user_password, user_name, user_phone, user_email, user_nickname, user_level)
VALUES ('user002', 'password456!', '�̿���', '010-9876-5432', 'leeyh@email.com', '�����', 2);

------------------------------------------------------------
-- 2) COMPANY (2��)
------------------------------------------------------------
INSERT INTO COMPANY (company_id, company_password, company_name, company_phone, company_email, business_number)
VALUES ('company001', 'comp123!', '��ũ��ŸƮ��', '02-1234-5678', 'contact@techstartup.com', '123-45-67890');

INSERT INTO COMPANY (company_id, company_password, company_name, company_phone, company_email, business_number)
VALUES ('company002', 'comp456!', '�����ο�������', '02-9876-5432', 'hello@designagency.com', '987-65-43210');

------------------------------------------------------------
-- 3) POST (6�� - lookup 2��, job 2��, free 2��)
------------------------------------------------------------
-- lookup �Խñ� (user_num 1, 2 ���)
INSERT INTO POST (board_type, user_num, title, content, price, ai_summary, download_cnt, post_file, view_cnt)
VALUES ('lookup', 1, 'Python �ӽŷ��� �Ϻ� ���̵�', 'Python���� �ӽŷ����� ���� �Ϻ��� �ڷ��Դϴ�. �ʺ��ں��� ���ޱ��� ��� �н� �����մϴ�.', 
        15000, 'Python �ӽŷ��� �н� �ڷ�� �ʺ����� ���ޱ��� �ܰ躰 �н� ����', 25, 'python_ml_guide.pdf', 150);

INSERT INTO POST (board_type, user_num, title, content, price, ai_summary, download_cnt, post_file, view_cnt)
VALUES ('lookup', 2, 'React ������Ʈ ���ø� ����', 'React�� ���� �پ��� ������Ʈ ���ø� 10���Դϴ�. ��� ��� ������ �ڵ尡 ���ԵǾ� �ֽ��ϴ�.', 
        20000, 'React ������Ʈ ���ø� 10�� ����, ��� ��� ����', 40, 'react_templates.zip', 230);

-- job �Խñ� (company_num 1, 2 ���)
INSERT INTO POST (board_type, company_num, title, content, view_cnt)
VALUES ('job', 1, '[��ũ��ŸƮ��] �鿣�� ������ ä��', 
        '���� ��ũ��ŸƮ������ �鿣�� �����ڸ� �����մϴ�.
        
�ֿ� ����:
- Spring Boot ��� API ����
- AWS ������ ���� �� ����
- �����ͺ��̽� ���� �� ����ȭ

�ڰ� ���:
- Java/Spring 3�� �̻� ����
- MySQL, Oracle �� RDBMS ����
- ��Ȱ�� Ŀ�´����̼� �ɷ�

��� ����:
- Docker, Kubernetes ����
- MSA ��Ű��ó ���� ����

����: 5000���� ~ 7000���� (���� ����)', 320);

INSERT INTO POST (board_type, company_num, title, content, view_cnt)
VALUES ('job', 2, '[�����ο�������] UI/UX �����̳� ä��', 
        '�����ο������ÿ��� UI/UX �����̳ʸ� ä���մϴ�.

��� ����:
- ��/�� ���� UI/UX ������
- ����� ����ġ �� �м�
- ������Ÿ�� ���� �� �׽�Ʈ

���� �ڰ�:
- Figma, Adobe XD �ɼ�
- ��Ʈ������ �ʼ� ����
- 2�� �̻� �ǹ� ����

�����Ļ�:
- �� 4.5�� �ٹ�
- ���ñٹ� ����
- 4�뺸�� + ������

����: 4000���� ~ 5500����', 180);

-- free �Խñ� (user_num 1, 2 ���)
INSERT INTO POST (board_type, user_num, title, content, view_cnt)
VALUES ('free', 1, '����Ŭ DB ��ġ �� ���� �ذ� ���', 
        '����Ŭ 19c ��ġ�ϴٰ� ORA-12154 ������ �߻��߾��.
        
�ذ� ��� �����մϴ�:
1. tnsnames.ora ���� ��� Ȯ��
2. ȯ�溯�� TNS_ADMIN ����
3. ������ �����

�̷��� �ϴϱ� �ذ�Ƴ׿�! ���� ���� �����ô� �е鲲 ������ �Ǳ� �ٶ��ϴ�.', 85);

INSERT INTO POST (board_type, user_num, title, content, view_cnt)
VALUES ('free', 2, 'Spring Boot ������Ʈ ���� ��õ���ּ���', 
        'ó������ Spring Boot�� ū ������Ʈ�� �����ϴµ���.
        
��Ű�� ������ ��� �������� �� �������?
- �����κ��� �������?
- ���̾�� �������?

���� ������ �е��� ���� ��Ź�帳�ϴ�!', 120);

------------------------------------------------------------
-- 4) POST_COMMENT (�� �Խñۿ� 2���� = 12��)
------------------------------------------------------------
-- lookup �Խñ� 1���� ���
INSERT INTO POST_COMMENT (user_num, post_id, comment_content)
VALUES (2, 1, '�ڷ� ���� �����ϳ׿�! �ٿ�ε��ؼ� �����ϰڽ��ϴ�.');

INSERT INTO POST_COMMENT (user_num, post_id, comment_content)
VALUES (1, 1, '�����մϴ�! ���� ������ �Ǽ����� ���ھ��~');

-- lookup �Խñ� 2���� ���
INSERT INTO POST_COMMENT (user_num, post_id, comment_content)
VALUES (1, 2, '���ø� ������ ����ϳ׿�. �ٷ� �����غ��߰ھ��.');

INSERT INTO POST_COMMENT (user_num, post_id, comment_content)
VALUES (2, 2, '�������ϴ�! ���� ������Ʈ�� ����Ͻð� �ǵ�� �ֽø� �� ���ƿ� ^^');

-- job �Խñ� 3���� ���
INSERT INTO POST_COMMENT (user_num, post_id, comment_content)
VALUES (1, 3, '���� ����� ��� �ǳ���? �̷¼��� ���� ������ �ɱ��?');

INSERT INTO POST_COMMENT (user_num, post_id, comment_content)
VALUES (2, 3, '���� ���� �ֽ��ϴ�. MSA ������ �ִµ� �����غ��Կ�!');

-- job �Խñ� 4���� ���
INSERT INTO POST_COMMENT (user_num, post_id, comment_content)
VALUES (1, 4, '�� 4.5�� �ٹ� �ʹ� ���׿�! ��Ʈ������ �غ��ؼ� �����ϰڽ��ϴ�.');

INSERT INTO POST_COMMENT (user_num, post_id, comment_content)
VALUES (2, 4, '���ñٹ� ������ �� ū �����̳׿�. ���� ������ ��� �ǳ���?');

-- free �Խñ� 5���� ���
INSERT INTO POST_COMMENT (user_num, post_id, comment_content)
VALUES (2, 5, '���� �Ȱ��� ���� �޾��µ� ���п� �ذ��߾��! �����մϴ� �Ф�');

INSERT INTO POST_COMMENT (user_num, post_id, comment_content)
VALUES (1, 5, '������ �Ǽ̴ٴ� �����̳׿�! ����Ŭ�� ������ �� ���ƿ� ����');

-- free �Խñ� 6���� ���
INSERT INTO POST_COMMENT (user_num, post_id, comment_content)
VALUES (1, 6, '���� �����κ��� ������ �� ��õ�����. ���������� �ξ� ���մϴ�.');

INSERT INTO POST_COMMENT (user_num, post_id, comment_content)
VALUES (2, 6, '���� �ǰ� �����մϴ�! �����κ� ������ ������ ��ƺ��߰ھ��.');

------------------------------------------------------------
-- 5) POST_SAVE (�� ������ 2���� ���� = 4��)
------------------------------------------------------------
INSERT INTO POST_SAVE (user_num, post_id)
VALUES (1, 2);  -- user1�� lookup �Խñ� 2 ����

INSERT INTO POST_SAVE (user_num, post_id)
VALUES (1, 4);  -- user1�� job �Խñ� 4 ����

INSERT INTO POST_SAVE (user_num, post_id)
VALUES (2, 1);  -- user2�� lookup �Խñ� 1 ����

INSERT INTO POST_SAVE (user_num, post_id)
VALUES (2, 3);  -- user2�� job �Խñ� 3 ����

------------------------------------------------------------
-- 6) FOLLOWS (���� �ȷο� 2��)
------------------------------------------------------------
INSERT INTO FOLLOWS (follower_id, following_id)
VALUES (1, 2);  -- user1�� user2�� �ȷο�

INSERT INTO FOLLOWS (follower_id, following_id)
VALUES (2, 1);  -- user2�� user1�� �ȷο�

------------------------------------------------------------
-- 7) DIRECT_CHAT_ROOMS (2��)
------------------------------------------------------------
INSERT INTO DIRECT_CHAT_ROOMS (user1_num, user2_num, last_message_at, status)
VALUES (1, 2, SYSDATE - 1, 'ACTIVE');

INSERT INTO DIRECT_CHAT_ROOMS (user1_num, user2_num, last_message_at, status)
VALUES (2, 1, SYSDATE, 'ACTIVE');

------------------------------------------------------------
-- 8) CHAT_MESSAGES (�� ä�ù濡 2���� = 4��)
------------------------------------------------------------
-- ä�ù� 1�� �޽���
INSERT INTO CHAT_MESSAGES (room_id, user_num, sender_num, content, read_yn)
VALUES (1, 2, 1, '�ȳ��ϼ���! Python �ڷ� �����ؼ� ������ �ִµ���.', 'Y');

INSERT INTO CHAT_MESSAGES (room_id, user_num, sender_num, content, read_yn)
VALUES (1, 1, 2, '�� �����ϼ���! �����̵� �亯�帱�Կ� ^^', 'Y');

-- ä�ù� 2�� �޽���
INSERT INTO CHAT_MESSAGES (room_id, user_num, sender_num, content, read_yn)
VALUES (2, 1, 2, 'React ���ø� ���� �� ����̳׿�!', 'Y');

INSERT INTO CHAT_MESSAGES (room_id, user_num, sender_num, content, read_yn)
VALUES (2, 2, 1, '�����մϴ�! �ʿ��Ͻ� �κ� ������ ������ �����ּ���~', 'N');

------------------------------------------------------------
-- 9) CHAT_MESSAGE_FILES (2��)
------------------------------------------------------------
INSERT INTO CHAT_MESSAGE_FILES (message_id, file_name, mime_type, file_size, file_path)
VALUES (1, 'question_screenshot.png', 'image/png', 245680, '/files/chat/2024/12/question_screenshot.png');

INSERT INTO CHAT_MESSAGE_FILES (message_id, file_name, mime_type, file_size, file_path)
VALUES (3, 'sample_code.txt', 'text/plain', 5120, '/files/chat/2024/12/sample_code.txt');

------------------------------------------------------------
-- 10) CART (�� ������ 2���� = 4��)
------------------------------------------------------------
INSERT INTO CART (user_num, post_id)
VALUES (1, 1);  -- user1�� lookup �Խñ� 1�� ��ٱ��Ͽ�

INSERT INTO CART (user_num, post_id)
VALUES (1, 2);  -- user1�� lookup �Խñ� 2�� ��ٱ��Ͽ�

INSERT INTO CART (user_num, post_id)
VALUES (2, 1);  -- user2�� lookup �Խñ� 1�� ��ٱ��Ͽ�

INSERT INTO CART (user_num, post_id)
VALUES (2, 2);  -- user2�� lookup �Խñ� 2�� ��ٱ��Ͽ�

------------------------------------------------------------
-- 11) PAY (�� ������ 1�Ǿ� ���� = 2��)
------------------------------------------------------------
INSERT INTO PAY (user_num, pay_price, setle_sttus, order_name, cart_id)
VALUES (1, 15000, 1, 'Python �ӽŷ��� �Ϻ� ���̵�', 1);

INSERT INTO PAY (user_num, pay_price, setle_sttus, order_name, cart_id)
VALUES (2, 20000, 1, 'React ������Ʈ ���ø� ����', 3);

------------------------------------------------------------
-- 12) POST_LIKE (�� �Խñۿ� ���ƿ� 2���� = 12��)
------------------------------------------------------------
-- �Խñ� 1�� ���ƿ�
INSERT INTO POST_LIKE (user_num, post_id) VALUES (1, 1);
INSERT INTO POST_LIKE (user_num, post_id) VALUES (2, 1);

-- �Խñ� 2�� ���ƿ�
INSERT INTO POST_LIKE (user_num, post_id) VALUES (1, 2);
INSERT INTO POST_LIKE (user_num, post_id) VALUES (2, 2);

-- �Խñ� 3�� ���ƿ�
INSERT INTO POST_LIKE (user_num, post_id) VALUES (1, 3);
INSERT INTO POST_LIKE (user_num, post_id) VALUES (2, 3);

-- �Խñ� 4�� ���ƿ�
INSERT INTO POST_LIKE (user_num, post_id) VALUES (1, 4);
INSERT INTO POST_LIKE (user_num, post_id) VALUES (2, 4);

-- �Խñ� 5�� ���ƿ�
INSERT INTO POST_LIKE (user_num, post_id) VALUES (1, 5);
INSERT INTO POST_LIKE (user_num, post_id) VALUES (2, 5);

-- �Խñ� 6�� ���ƿ�
INSERT INTO POST_LIKE (user_num, post_id) VALUES (1, 6);
INSERT INTO POST_LIKE (user_num, post_id) VALUES (2, 6);

------------------------------------------------------------
-- 13) COMMENT_LIKE (�� ��ۿ� ���ƿ� 1���� = 12��)
------------------------------------------------------------
INSERT INTO COMMENT_LIKE (user_num, comment_id) VALUES (2, 1);
INSERT INTO COMMENT_LIKE (user_num, comment_id) VALUES (1, 2);
INSERT INTO COMMENT_LIKE (user_num, comment_id) VALUES (2, 3);
INSERT INTO COMMENT_LIKE (user_num, comment_id) VALUES (1, 4);
INSERT INTO COMMENT_LIKE (user_num, comment_id) VALUES (2, 5);
INSERT INTO COMMENT_LIKE (user_num, comment_id) VALUES (1, 6);
INSERT INTO COMMENT_LIKE (user_num, comment_id) VALUES (2, 7);
INSERT INTO COMMENT_LIKE (user_num, comment_id) VALUES (1, 8);
INSERT INTO COMMENT_LIKE (user_num, comment_id) VALUES (2, 9);
INSERT INTO COMMENT_LIKE (user_num, comment_id) VALUES (1, 10);
INSERT INTO COMMENT_LIKE (user_num, comment_id) VALUES (2, 11);
INSERT INTO COMMENT_LIKE (user_num, comment_id) VALUES (1, 12);

------------------------------------------------------------
-- COMMIT
------------------------------------------------------------
COMMIT;


------------------------------------------------------------
-- ��� ���̺��� ��ü ������ ��ȸ
------------------------------------------------------------

-- 1) USERS ���̺� ��ü ��ȸ
SELECT '========================================' AS DIVIDER FROM DUAL;
SELECT '1. USERS ���̺� ��ü ������' AS INFO FROM DUAL;
SELECT '========================================' AS DIVIDER FROM DUAL;
SELECT * FROM USERS ORDER BY user_num;

-- 2) COMPANY ���̺� ��ü ��ȸ
SELECT '========================================' AS DIVIDER FROM DUAL;
SELECT '2. COMPANY ���̺� ��ü ������' AS INFO FROM DUAL;
SELECT '========================================' AS DIVIDER FROM DUAL;
SELECT * FROM COMPANY ORDER BY company_num;

-- 3) POST ���̺� ��ü ��ȸ
SELECT '========================================' AS DIVIDER FROM DUAL;
SELECT '3. POST ���̺� ��ü ������' AS INFO FROM DUAL;
SELECT '========================================' AS DIVIDER FROM DUAL;
SELECT * FROM POST ORDER BY post_id;

-- 4) POST_COMMENT ���̺� ��ü ��ȸ
SELECT '========================================' AS DIVIDER FROM DUAL;
SELECT '4. POST_COMMENT ���̺� ��ü ������' AS INFO FROM DUAL;
SELECT '========================================' AS DIVIDER FROM DUAL;
SELECT * FROM POST_COMMENT ORDER BY comment_id;

-- 5) POST_SAVE ���̺� ��ü ��ȸ
SELECT '========================================' AS DIVIDER FROM DUAL;
SELECT '5. POST_SAVE ���̺� ��ü ������' AS INFO FROM DUAL;
SELECT '========================================' AS DIVIDER FROM DUAL;
SELECT * FROM POST_SAVE ORDER BY board_save_id;

-- 6) FOLLOWS ���̺� ��ü ��ȸ
SELECT '========================================' AS DIVIDER FROM DUAL;
SELECT '6. FOLLOWS ���̺� ��ü ������' AS INFO FROM DUAL;
SELECT '========================================' AS DIVIDER FROM DUAL;
SELECT * FROM FOLLOWS ORDER BY follow_id;

-- 7) DIRECT_CHAT_ROOMS ���̺� ��ü ��ȸ
SELECT '========================================' AS DIVIDER FROM DUAL;
SELECT '7. DIRECT_CHAT_ROOMS ���̺� ��ü ������' AS INFO FROM DUAL;
SELECT '========================================' AS DIVIDER FROM DUAL;
SELECT * FROM DIRECT_CHAT_ROOMS ORDER BY room_id;

-- 8) CHAT_MESSAGES ���̺� ��ü ��ȸ
SELECT '========================================' AS DIVIDER FROM DUAL;
SELECT '8. CHAT_MESSAGES ���̺� ��ü ������' AS INFO FROM DUAL;
SELECT '========================================' AS DIVIDER FROM DUAL;
SELECT * FROM CHAT_MESSAGES ORDER BY message_id;

-- 9) CHAT_MESSAGE_FILES ���̺� ��ü ��ȸ
SELECT '========================================' AS DIVIDER FROM DUAL;
SELECT '9. CHAT_MESSAGE_FILES ���̺� ��ü ������' AS INFO FROM DUAL;
SELECT '========================================' AS DIVIDER FROM DUAL;
SELECT * FROM CHAT_MESSAGE_FILES ORDER BY file_id;

-- 10) CART ���̺� ��ü ��ȸ
SELECT '========================================' AS DIVIDER FROM DUAL;
SELECT '10. CART ���̺� ��ü ������' AS INFO FROM DUAL;
SELECT '========================================' AS DIVIDER FROM DUAL;
SELECT * FROM CART ORDER BY cart_id;

-- 11) PAY ���̺� ��ü ��ȸ
SELECT '========================================' AS DIVIDER FROM DUAL;
SELECT '11. PAY ���̺� ��ü ������' AS INFO FROM DUAL;
SELECT '========================================' AS DIVIDER FROM DUAL;
SELECT * FROM PAY ORDER BY order_id;

-- 12) POST_LIKE ���̺� ��ü ��ȸ
SELECT '========================================' AS DIVIDER FROM DUAL;
SELECT '12. POST_LIKE ���̺� ��ü ������' AS INFO FROM DUAL;
SELECT '========================================' AS DIVIDER FROM DUAL;
SELECT * FROM POST_LIKE ORDER BY like_id;

-- 13) COMMENT_LIKE ���̺� ��ü ��ȸ
SELECT '========================================' AS DIVIDER FROM DUAL;
SELECT '13. COMMENT_LIKE ���̺� ��ü ������' AS INFO FROM DUAL;
SELECT '========================================' AS DIVIDER FROM DUAL;
SELECT * FROM COMMENT_LIKE ORDER BY like_id;

------------------------------------------------------------
-- ��� ���
------------------------------------------------------------
SELECT '========================================' AS DIVIDER FROM DUAL;
SELECT '��ü ���̺� ������ ���� ���' AS INFO FROM DUAL;
SELECT '========================================' AS DIVIDER FROM DUAL;

SELECT 'USERS' AS ���̺���, COUNT(*) AS �����Ͱ��� FROM USERS
UNION ALL
SELECT 'COMPANY', COUNT(*) FROM COMPANY
UNION ALL
SELECT 'POST', COUNT(*) FROM POST
UNION ALL
SELECT 'POST_COMMENT', COUNT(*) FROM POST_COMMENT
UNION ALL
SELECT 'POST_SAVE', COUNT(*) FROM POST_SAVE
UNION ALL
SELECT 'FOLLOWS', COUNT(*) FROM FOLLOWS
UNION ALL
SELECT 'DIRECT_CHAT_ROOMS', COUNT(*) FROM DIRECT_CHAT_ROOMS
UNION ALL
SELECT 'CHAT_MESSAGES', COUNT(*) FROM CHAT_MESSAGES
UNION ALL
SELECT 'CHAT_MESSAGE_FILES', COUNT(*) FROM CHAT_MESSAGE_FILES
UNION ALL
SELECT 'CART', COUNT(*) FROM CART
UNION ALL
SELECT 'PAY', COUNT(*) FROM PAY
UNION ALL
SELECT 'POST_LIKE', COUNT(*) FROM POST_LIKE
UNION ALL
SELECT 'COMMENT_LIKE', COUNT(*) FROM COMMENT_LIKE;